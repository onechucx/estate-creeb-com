import{S as Y,i as Z,s as ee,d as c,a as A,t as z,b as V,c as P,m as H,p as f,e as $,f as E,g as j,h as _,j as N,B as le,M as X,o as d,N as F,P as oe,O as ie,x as B,y as J,A as T,v as ue,w as K,z as Q,J as ce,K as fe,Q as de,n as ae}from"../chunks/BIUcL2or.js";import"../chunks/IHki7fMi.js";import{X as me,M as pe}from"../chunks/DfLhMduo.js";import{B as G}from"../chunks/C-1lnx_9.js";import{C as ge}from"../chunks/CFmt7OZt.js";import{i as be}from"../chunks/fsxxa7W1.js";function ne(n){let e,t;return{c(){e=_("p"),t=Q(n[3]),this.h()},l(r){e=$(r,"P",{class:!0});var s=E(e);t=K(s,n[3]),s.forEach(c),this.h()},h(){f(e,"class","text-sm text-red-600 text-center")},m(r,s){P(r,e,s),d(e,t)},p(r,s){s&8&&ue(t,r[3])},d(r){r&&c(e)}}}function he(n){let e;return{c(){e=Q("Sign in")},l(t){e=K(t,"Sign in")},m(t,r){P(t,e,r)},d(t){t&&c(e)}}}function $e(n){let e,t,r,s,o='<svg class="h-10 w-10 text-brand-primary dark:text-dark-primary" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-1-13h2v6h-2zm0 8h2v2h-2z"></path></svg> <h2 class="text-2xl font-bold text-center text-brand-text-primary dark:text-dark-text-primary mt-3">Welcome Back!</h2> <p class="text-center text-brand-text-secondary dark:text-dark-text-secondary">Sign in to continue.</p>',b,a,m,v,x="Email",g,h,w,I,L,u="Password",i,l,q,S,C,M,O,W,te;t=new me({props:{class:"h-6 w-6 text-gray-500 dark:text-gray-400"}});let k=n[3]&&ne(n);return M=new G({props:{type:"submit",class:"w-full justify-center",$$slots:{default:[he]},$$scope:{ctx:n}}}),{c(){e=_("button"),N(t.$$.fragment),r=T(),s=_("div"),s.innerHTML=o,b=T(),a=_("form"),m=_("div"),v=_("label"),v.textContent=x,g=T(),h=_("input"),w=T(),I=_("div"),L=_("label"),L.textContent=u,i=T(),l=_("input"),q=T(),k&&k.c(),S=T(),C=_("div"),N(M.$$.fragment),this.h()},l(p){e=$(p,"BUTTON",{class:!0,"aria-label":!0});var y=E(e);j(t.$$.fragment,y),y.forEach(c),r=B(p),s=$(p,"DIV",{class:!0,"data-svelte-h":!0}),J(s)!=="svelte-yw9u8r"&&(s.innerHTML=o),b=B(p),a=$(p,"FORM",{class:!0});var D=E(a);m=$(D,"DIV",{});var U=E(m);v=$(U,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),J(v)!=="svelte-1usilf9"&&(v.textContent=x),g=B(U),h=$(U,"INPUT",{id:!0,type:!0,class:!0}),U.forEach(c),w=B(D),I=$(D,"DIV",{});var R=E(I);L=$(R,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),J(L)!=="svelte-leusoj"&&(L.textContent=u),i=B(R),l=$(R,"INPUT",{id:!0,type:!0,class:!0}),R.forEach(c),q=B(D),k&&k.l(D),S=B(D),C=$(D,"DIV",{});var re=E(C);j(M.$$.fragment,re),re.forEach(c),D.forEach(c),this.h()},h(){f(e,"class","absolute top-4 right-4 p-1 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700"),f(e,"aria-label","Close login dialog"),f(s,"class","flex flex-col items-center mb-6"),f(v,"for","email-modal"),f(v,"class","block text-sm font-medium text-gray-700 dark:text-dark-text-secondary"),f(h,"id","email-modal"),f(h,"type","email"),h.required=!0,f(h,"class","mt-1 block w-full px-3 py-2 border border-brand-border dark:border-dark-border bg-brand-surface dark:bg-dark-surface rounded-md shadow-sm focus:outline-none focus:ring-brand-primary focus:border-brand-primary"),f(L,"for","password-modal"),f(L,"class","block text-sm font-medium text-gray-700 dark:text-dark-text-secondary"),f(l,"id","password-modal"),f(l,"type","password"),l.required=!0,f(l,"class","mt-1 block w-full px-3 py-2 border border-brand-border dark:border-dark-border bg-brand-surface dark:bg-dark-surface rounded-md shadow-sm focus:outline-none focus:ring-brand-primary focus:border-brand-primary"),f(a,"class","space-y-4")},m(p,y){P(p,e,y),H(t,e,null),P(p,r,y),P(p,s,y),P(p,b,y),P(p,a,y),d(a,m),d(m,v),d(m,g),d(m,h),X(h,n[1]),d(a,w),d(a,I),d(I,L),d(I,i),d(I,l),X(l,n[2]),d(a,q),k&&k.m(a,null),d(a,S),d(a,C),H(M,C,null),O=!0,W||(te=[F(e,"click",function(){oe(n[0])&&n[0].apply(this,arguments)}),F(h,"input",n[6]),F(l,"input",n[7]),F(a,"submit",ie(n[4]))],W=!0)},p(p,y){n=p,y&2&&h.value!==n[1]&&X(h,n[1]),y&4&&l.value!==n[2]&&X(l,n[2]),n[3]?k?k.p(n,y):(k=ne(n),k.c(),k.m(a,S)):k&&(k.d(1),k=null);const D={};y&256&&(D.$$scope={dirty:y,ctx:n}),M.$set(D)},i(p){O||(V(t.$$.fragment,p),V(M.$$.fragment,p),O=!0)},o(p){z(t.$$.fragment,p),z(M.$$.fragment,p),O=!1},d(p){p&&(c(e),c(r),c(s),c(b),c(a)),A(t),k&&k.d(),A(M),W=!1,le(te)}}}function _e(n){let e,t,r;return t=new ge({props:{class:"w-full max-w-md relative",$$slots:{default:[$e]},$$scope:{ctx:n}}}),{c(){e=_("div"),N(t.$$.fragment),this.h()},l(s){e=$(s,"DIV",{class:!0});var o=E(e);j(t.$$.fragment,o),o.forEach(c),this.h()},h(){f(e,"class","fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4")},m(s,o){P(s,e,o),H(t,e,null),r=!0},p(s,[o]){const b={};o&271&&(b.$$scope={dirty:o,ctx:s}),t.$set(b)},i(s){r||(V(t.$$.fragment,s),r=!0)},o(s){z(t.$$.fragment,s),r=!1},d(s){s&&c(e),A(t)}}}function ve(n,e,t){let{onLogin:r}=e,{onClose:s}=e,o="user@creeb.vip",b="password",a="";const m=()=>{t(3,a=""),o==="user@creeb.vip"&&b==="password"?r():t(3,a="Invalid email or password.")};function v(){o=this.value,t(1,o)}function x(){b=this.value,t(2,b)}return n.$$set=g=>{"onLogin"in g&&t(5,r=g.onLogin),"onClose"in g&&t(0,s=g.onClose)},[s,o,b,a,m,r,v,x]}class ke extends Y{constructor(e){super(),Z(this,e,ve,_e,ee,{onLogin:5,onClose:0})}}function xe(n){let e;return{c(){e=Q("Login")},l(t){e=K(t,"Login")},m(t,r){P(t,e,r)},d(t){t&&c(e)}}}function ye(n){let e;return{c(){e=Q("Sign Up")},l(t){e=K(t,"Sign Up")},m(t,r){P(t,e,r)},d(t){t&&c(e)}}}function se(n){let e,t;return e=new ke({}),e.$on("login",n[6]),e.$on("close",n[7]),{c(){N(e.$$.fragment)},l(r){j(e.$$.fragment,r)},m(r,s){H(e,r,s),t=!0},p:ae,i(r){t||(V(e.$$.fragment,r),t=!0)},o(r){z(e.$$.fragment,r),t=!1},d(r){A(e,r)}}}function we(n){let e,t,r,s,o='<svg aria-hidden="true" focusable="false" class="h-10 w-10 text-brand-primary" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2z"></path></svg> <h1 class="text-2xl font-bold text-brand-primary ml-2">Creeb</h1>',b,a,m,v,x,g,h,w,I,L;m=new G({props:{type:"button",variant:"secondary","aria-label":"Open login dialog",title:"Login",$$slots:{default:[xe]},$$scope:{ctx:n}}}),m.$on("click",n[3]),x=new G({props:{type:"button",variant:"primary","aria-label":"Sign up for Creeb",title:"Sign up",$$slots:{default:[ye]},$$scope:{ctx:n}}}),w=new pe({props:{showToast:n[4],isAuthenticated:!1,listings:n[1],isCommunitySubscribed:!1}}),w.$on("loginRequest",n[5]);let u=n[2]&&se(n);return{c(){e=_("div"),t=_("header"),r=_("div"),s=_("div"),s.innerHTML=o,b=T(),a=_("div"),N(m.$$.fragment),v=T(),N(x.$$.fragment),g=T(),h=_("main"),N(w.$$.fragment),I=T(),u&&u.c(),this.h()},l(i){e=$(i,"DIV",{class:!0});var l=E(e);t=$(l,"HEADER",{class:!0});var q=E(t);r=$(q,"DIV",{class:!0});var S=E(r);s=$(S,"DIV",{class:!0,"data-svelte-h":!0}),J(s)!=="svelte-eq96tm"&&(s.innerHTML=o),b=B(S),a=$(S,"DIV",{class:!0});var C=E(a);j(m.$$.fragment,C),v=B(C),j(x.$$.fragment,C),C.forEach(c),S.forEach(c),q.forEach(c),g=B(l),h=$(l,"MAIN",{class:!0});var M=E(h);j(w.$$.fragment,M),M.forEach(c),I=B(l),u&&u.l(l),l.forEach(c),this.h()},h(){f(s,"class","flex items-center"),f(a,"class","flex items-center space-x-2"),f(r,"class","container mx-auto flex items-center justify-between"),f(t,"class","bg-brand-surface p-4 border-b border-brand-border"),f(h,"class","p-6 lg:p-8"),f(e,"class","min-h-screen bg-brand-background text-brand-text-primary")},m(i,l){P(i,e,l),d(e,t),d(t,r),d(r,s),d(r,b),d(r,a),H(m,a,null),d(a,v),H(x,a,null),d(e,g),d(e,h),H(w,h,null),d(e,I),u&&u.m(e,null),L=!0},p(i,[l]){const q={};l&1024&&(q.$$scope={dirty:l,ctx:i}),m.$set(q);const S={};l&1024&&(S.$$scope={dirty:l,ctx:i}),x.$set(S);const C={};l&2&&(C.listings=i[1]),w.$set(C),i[2]?u?(u.p(i,l),l&4&&V(u,1)):(u=se(i),u.c(),V(u,1),u.m(e,null)):u&&(ce(),z(u,1,1,()=>{u=null}),fe())},i(i){L||(V(m.$$.fragment,i),V(x.$$.fragment,i),V(w.$$.fragment,i),V(u),L=!0)},o(i){z(m.$$.fragment,i),z(x.$$.fragment,i),z(w.$$.fragment,i),z(u),L=!1},d(i){i&&c(e),A(m),A(x),A(w),u&&u.d()}}}function Le(n,e,t){let{onLoginSuccess:r=()=>{}}=e,{listings:s=[]}=e,o=!1;de();function b(){t(2,o=!0)}const a=g=>console.log(g),m=()=>t(2,o=!0),v=()=>{t(2,o=!1),r()},x=()=>t(2,o=!1);return n.$$set=g=>{"onLoginSuccess"in g&&t(0,r=g.onLoginSuccess),"listings"in g&&t(1,s=g.listings)},[r,s,o,b,a,m,v,x]}class Ce extends Y{constructor(e){super(),Z(this,e,Le,we,ee,{onLoginSuccess:0,listings:1})}}function Se(n){let e,t;return e=new Ce({props:{listings:n[0]}}),e.$on("loginSuccess",Ee),{c(){N(e.$$.fragment)},l(r){j(e.$$.fragment,r)},m(r,s){H(e,r,s),t=!0},p:ae,i(r){t||(V(e.$$.fragment,r),t=!0)},o(r){z(e.$$.fragment,r),t=!1},d(r){A(e,r)}}}function Ee(){console.log("login successful")}function Ie(n){return[be]}class ze extends Y{constructor(e){super(),Z(this,e,Ie,Se,ee,{})}}export{ze as component};
