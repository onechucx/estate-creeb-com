import{s as Y,d as c,i as H,g as f,c as $,a as E,e as _,r as le,C as X,f as d,A as F,G as oe,D as ie,j as T,k as G,l as V,b as ue,h as W,t as J,H as ce,n as ae}from"../chunks/scheduler.BjL_aqLc.js";import{S as Z,i as ee,d as z,t as P,a as B,m as A,c as j,b as U,g as fe,e as de}from"../chunks/index.CX86xIsQ.js";import{M as me}from"../chunks/Marketplace.D2bnjAIy.js";import{X as pe}from"../chunks/heroicons-fallback.ZObav5sp.js";import{B as Q}from"../chunks/Button.DIoDV_qe.js";import{C as ge}from"../chunks/Card.CoLxe_af.js";import{i as be}from"../chunks/stores.93zrsl6M.js";function ne(n){let e,t;return{c(){e=_("p"),t=J(n[3]),this.h()},l(r){e=$(r,"P",{class:!0});var s=E(e);t=W(s,n[3]),s.forEach(c),this.h()},h(){f(e,"class","text-sm text-red-600 text-center")},m(r,s){H(r,e,s),d(e,t)},p(r,s){s&8&&ue(t,r[3])},d(r){r&&c(e)}}}function he(n){let e;return{c(){e=J("Sign in")},l(t){e=W(t,"Sign in")},m(t,r){H(t,e,r)},d(t){t&&c(e)}}}function $e(n){let e,t,r,s,o='<svg class="h-10 w-10 text-brand-primary dark:text-dark-primary" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-1-13h2v6h-2zm0 8h2v2h-2z"></path></svg> <h2 class="text-2xl font-bold text-center text-brand-text-primary dark:text-dark-text-primary mt-3">Welcome Back!</h2> <p class="text-center text-brand-text-secondary dark:text-dark-text-secondary">Sign in to continue.</p>',b,a,m,v,x="Email",g,h,w,I,C,u="Password",i,l,q,S,L,M,N,K,te;t=new pe({props:{class:"h-6 w-6 text-gray-500 dark:text-gray-400"}});let k=n[3]&&ne(n);return M=new Q({props:{type:"submit",class:"w-full justify-center",$$slots:{default:[he]},$$scope:{ctx:n}}}),{c(){e=_("button"),U(t.$$.fragment),r=V(),s=_("div"),s.innerHTML=o,b=V(),a=_("form"),m=_("div"),v=_("label"),v.textContent=x,g=V(),h=_("input"),w=V(),I=_("div"),C=_("label"),C.textContent=u,i=V(),l=_("input"),q=V(),k&&k.c(),S=V(),L=_("div"),U(M.$$.fragment),this.h()},l(p){e=$(p,"BUTTON",{class:!0,"aria-label":!0});var y=E(e);j(t.$$.fragment,y),y.forEach(c),r=T(p),s=$(p,"DIV",{class:!0,"data-svelte-h":!0}),G(s)!=="svelte-yw9u8r"&&(s.innerHTML=o),b=T(p),a=$(p,"FORM",{class:!0});var D=E(a);m=$(D,"DIV",{});var O=E(m);v=$(O,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),G(v)!=="svelte-1usilf9"&&(v.textContent=x),g=T(O),h=$(O,"INPUT",{id:!0,type:!0,class:!0}),O.forEach(c),w=T(D),I=$(D,"DIV",{});var R=E(I);C=$(R,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),G(C)!=="svelte-leusoj"&&(C.textContent=u),i=T(R),l=$(R,"INPUT",{id:!0,type:!0,class:!0}),R.forEach(c),q=T(D),k&&k.l(D),S=T(D),L=$(D,"DIV",{});var re=E(L);j(M.$$.fragment,re),re.forEach(c),D.forEach(c),this.h()},h(){f(e,"class","absolute top-4 right-4 p-1 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700"),f(e,"aria-label","Close login dialog"),f(s,"class","flex flex-col items-center mb-6"),f(v,"for","email-modal"),f(v,"class","block text-sm font-medium text-gray-700 dark:text-dark-text-secondary"),f(h,"id","email-modal"),f(h,"type","email"),h.required=!0,f(h,"class","mt-1 block w-full px-3 py-2 border border-brand-border dark:border-dark-border bg-brand-surface dark:bg-dark-surface rounded-md shadow-sm focus:outline-none focus:ring-brand-primary focus:border-brand-primary"),f(C,"for","password-modal"),f(C,"class","block text-sm font-medium text-gray-700 dark:text-dark-text-secondary"),f(l,"id","password-modal"),f(l,"type","password"),l.required=!0,f(l,"class","mt-1 block w-full px-3 py-2 border border-brand-border dark:border-dark-border bg-brand-surface dark:bg-dark-surface rounded-md shadow-sm focus:outline-none focus:ring-brand-primary focus:border-brand-primary"),f(a,"class","space-y-4")},m(p,y){H(p,e,y),A(t,e,null),H(p,r,y),H(p,s,y),H(p,b,y),H(p,a,y),d(a,m),d(m,v),d(m,g),d(m,h),X(h,n[1]),d(a,w),d(a,I),d(I,C),d(I,i),d(I,l),X(l,n[2]),d(a,q),k&&k.m(a,null),d(a,S),d(a,L),A(M,L,null),N=!0,K||(te=[F(e,"click",function(){oe(n[0])&&n[0].apply(this,arguments)}),F(h,"input",n[6]),F(l,"input",n[7]),F(a,"submit",ie(n[4]))],K=!0)},p(p,y){n=p,y&2&&h.value!==n[1]&&X(h,n[1]),y&4&&l.value!==n[2]&&X(l,n[2]),n[3]?k?k.p(n,y):(k=ne(n),k.c(),k.m(a,S)):k&&(k.d(1),k=null);const D={};y&256&&(D.$$scope={dirty:y,ctx:n}),M.$set(D)},i(p){N||(B(t.$$.fragment,p),B(M.$$.fragment,p),N=!0)},o(p){P(t.$$.fragment,p),P(M.$$.fragment,p),N=!1},d(p){p&&(c(e),c(r),c(s),c(b),c(a)),z(t),k&&k.d(),z(M),K=!1,le(te)}}}function _e(n){let e,t,r;return t=new ge({props:{class:"w-full max-w-md relative",$$slots:{default:[$e]},$$scope:{ctx:n}}}),{c(){e=_("div"),U(t.$$.fragment),this.h()},l(s){e=$(s,"DIV",{class:!0});var o=E(e);j(t.$$.fragment,o),o.forEach(c),this.h()},h(){f(e,"class","fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4")},m(s,o){H(s,e,o),A(t,e,null),r=!0},p(s,[o]){const b={};o&271&&(b.$$scope={dirty:o,ctx:s}),t.$set(b)},i(s){r||(B(t.$$.fragment,s),r=!0)},o(s){P(t.$$.fragment,s),r=!1},d(s){s&&c(e),z(t)}}}function ve(n,e,t){let{onLogin:r}=e,{onClose:s}=e,o="user@creeb.vip",b="password",a="";const m=()=>{t(3,a=""),o==="user@creeb.vip"&&b==="password"?r():t(3,a="Invalid email or password.")};function v(){o=this.value,t(1,o)}function x(){b=this.value,t(2,b)}return n.$$set=g=>{"onLogin"in g&&t(5,r=g.onLogin),"onClose"in g&&t(0,s=g.onClose)},[s,o,b,a,m,r,v,x]}class ke extends Z{constructor(e){super(),ee(this,e,ve,_e,Y,{onLogin:5,onClose:0})}}function xe(n){let e;return{c(){e=J("Login")},l(t){e=W(t,"Login")},m(t,r){H(t,e,r)},d(t){t&&c(e)}}}function ye(n){let e;return{c(){e=J("Sign Up")},l(t){e=W(t,"Sign Up")},m(t,r){H(t,e,r)},d(t){t&&c(e)}}}function se(n){let e,t;return e=new ke({}),e.$on("login",n[6]),e.$on("close",n[7]),{c(){U(e.$$.fragment)},l(r){j(e.$$.fragment,r)},m(r,s){A(e,r,s),t=!0},p:ae,i(r){t||(B(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){z(e,r)}}}function we(n){let e,t,r,s,o='<svg aria-hidden="true" focusable="false" class="h-10 w-10 text-brand-primary" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2z"></path></svg> <h1 class="text-2xl font-bold text-brand-primary ml-2">Creeb</h1>',b,a,m,v,x,g,h,w,I,C;m=new Q({props:{type:"button",variant:"secondary","aria-label":"Open login dialog",title:"Login",$$slots:{default:[xe]},$$scope:{ctx:n}}}),m.$on("click",n[3]),x=new Q({props:{type:"button",variant:"primary","aria-label":"Sign up for Creeb",title:"Sign up",$$slots:{default:[ye]},$$scope:{ctx:n}}}),w=new me({props:{showToast:n[4],isAuthenticated:!1,listings:n[1],isCommunitySubscribed:!1}}),w.$on("loginRequest",n[5]);let u=n[2]&&se(n);return{c(){e=_("div"),t=_("header"),r=_("div"),s=_("div"),s.innerHTML=o,b=V(),a=_("div"),U(m.$$.fragment),v=V(),U(x.$$.fragment),g=V(),h=_("main"),U(w.$$.fragment),I=V(),u&&u.c(),this.h()},l(i){e=$(i,"DIV",{class:!0});var l=E(e);t=$(l,"HEADER",{class:!0});var q=E(t);r=$(q,"DIV",{class:!0});var S=E(r);s=$(S,"DIV",{class:!0,"data-svelte-h":!0}),G(s)!=="svelte-eq96tm"&&(s.innerHTML=o),b=T(S),a=$(S,"DIV",{class:!0});var L=E(a);j(m.$$.fragment,L),v=T(L),j(x.$$.fragment,L),L.forEach(c),S.forEach(c),q.forEach(c),g=T(l),h=$(l,"MAIN",{class:!0});var M=E(h);j(w.$$.fragment,M),M.forEach(c),I=T(l),u&&u.l(l),l.forEach(c),this.h()},h(){f(s,"class","flex items-center"),f(a,"class","flex items-center space-x-2"),f(r,"class","container mx-auto flex items-center justify-between"),f(t,"class","bg-brand-surface p-4 border-b border-brand-border"),f(h,"class","p-6 lg:p-8"),f(e,"class","min-h-screen bg-brand-background text-brand-text-primary")},m(i,l){H(i,e,l),d(e,t),d(t,r),d(r,s),d(r,b),d(r,a),A(m,a,null),d(a,v),A(x,a,null),d(e,g),d(e,h),A(w,h,null),d(e,I),u&&u.m(e,null),C=!0},p(i,[l]){const q={};l&1024&&(q.$$scope={dirty:l,ctx:i}),m.$set(q);const S={};l&1024&&(S.$$scope={dirty:l,ctx:i}),x.$set(S);const L={};l&2&&(L.listings=i[1]),w.$set(L),i[2]?u?(u.p(i,l),l&4&&B(u,1)):(u=se(i),u.c(),B(u,1),u.m(e,null)):u&&(fe(),P(u,1,1,()=>{u=null}),de())},i(i){C||(B(m.$$.fragment,i),B(x.$$.fragment,i),B(w.$$.fragment,i),B(u),C=!0)},o(i){P(m.$$.fragment,i),P(x.$$.fragment,i),P(w.$$.fragment,i),P(u),C=!1},d(i){i&&c(e),z(m),z(x),z(w),u&&u.d()}}}function Ce(n,e,t){let{onLoginSuccess:r=()=>{}}=e,{listings:s=[]}=e,o=!1;ce();function b(){t(2,o=!0)}const a=g=>console.log(g),m=()=>t(2,o=!0),v=()=>{t(2,o=!1),r()},x=()=>t(2,o=!1);return n.$$set=g=>{"onLoginSuccess"in g&&t(0,r=g.onLoginSuccess),"listings"in g&&t(1,s=g.listings)},[r,s,o,b,a,m,v,x]}class Le extends Z{constructor(e){super(),ee(this,e,Ce,we,Y,{onLoginSuccess:0,listings:1})}}function Se(n){let e,t;return e=new Le({props:{listings:n[0]}}),e.$on("loginSuccess",Ee),{c(){U(e.$$.fragment)},l(r){j(e.$$.fragment,r)},m(r,s){A(e,r,s),t=!0},p:ae,i(r){t||(B(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){z(e,r)}}}function Ee(){console.log("login successful")}function Ie(n){return[be]}class qe extends Z{constructor(e){super(),ee(this,e,Ie,Se,Y,{})}}export{qe as component};
